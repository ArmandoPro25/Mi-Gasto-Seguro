<nav class="navbar" style="background-color: #e7f5e6;">
  <div class="container-fluid">
    <img src="https://i.imgur.com/MhhJt15.png" class="navbar-brand" alt="Logo">
    <div class="left">
      <button type="button" class="btn" [routerLink]="['/home']"><h4>Inicio</h4></button>
      <button type="button" class="btn"><h4>Gastos</h4></button>
      <button type="button" class="btn" [routerLink]="['/personal-income']"><h4>Ingresos</h4></button>
      <button type="button" class="btn" [routerLink]="['/personal-report']"><h4>Informe</h4></button>
    </div>
    <div class="right">
      <button class="btn btn-primary" type="button" [routerLink]="['/zoom']" style="color: white; text-decoration: none;">
        Iniciar Conferencia
      </button>
      <button type="button" class="btn btn-outline-success" (click)="logout()">Cerrar sesión</button>
    </div>
  </div>
</nav>

<div class="min-h-screen bg-gray-50" style="background-color: #e7f5e6;">
  <div class="container mx-auto px-4 py-8">
    <!-- Header Section -->
    <div class="flex items-center justify-start gap-5 mb-8">
  <div class="flex items-center space-x-6">
    <button class="text-4xl text-gray-600 hover:text-gray-800 transition-colors" (click)="loadPreviousMonthExpenses()">
      <i class="fa-solid fa-arrow-left"></i>
    </button>
    <h1 class="text-4xl font-bold">
      Mis <span class="text-emerald-600">gastos</span> de {{month}} {{currentYear}}
    </h1>
    <button class="text-4xl text-gray-600 hover:text-gray-800 transition-colors" (click)="loadCurrentMonthExpenses()">
      <i class="fa-solid fa-arrow-right"></i>
    </button>
  </div>
  <div class="ml-auto">
    <button class="flex items-center gap-2 bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition-colors shadow-lg"
            (click)="createNewExpense()">
      <span class="font-semibold">Nuevo Gasto</span>
    </button>
  </div>
</div>


    <!-- Expenses Table -->
    <div class="bg-white rounded-xl shadow-lg overflow-hidden expenses-table">
      <table class="w-full">
        <thead>
          <tr class="bg-gray-800 text-white">
            <th class="px-6 py-4 text-left">Descripción</th>
            <th class="px-6 py-4 text-right">Monto</th>
            <th class="px-6 py-4 text-center">Fecha</th>
            <th class="px-6 py-4 text-center">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let expense of expenses" class="border-b border-gray-200 hover:bg-gray-50">
            <td class="px-6 py-4">
              <div class="flex items-center">
                <i class="lucide-dollar-sign w-5 h-5 text-emerald-600 mr-3"></i>
                {{expense.Description_Expense}}
              </div>
            </td>
            <td class="px-6 py-4 text-right font-semibold">
              $ {{expense.Amount_Expense | number:'1.2-2'}}
            </td>
            <td class="px-6 py-4 text-center">
              <div class="flex items-center justify-center">
                <i class="lucide-calendar w-4 h-4 text-gray-500 mr-2"></i>
                {{expense.Date_Expense | date}}
              </div>
            </td>
            <td class="px-6 py-4">
              <button class="flex items-center mx-auto gap-2 text-blue-600 hover:text-blue-800 transition-colors"
                      (click)="viewExpenseDetail(expense.Id_PersonalExpenses)">
                <i class="lucide-eye"></i>
                <span>Ver detalle</span>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Chatbot -->
    <div class="fixed right-8 top-32 w-[350px]">
      <iframe
        src="https://www.chatbase.co/chatbot-iframe/Cwk1qX0MPWZoZvmRSjMxu"
        width="100%"
        style="height: 400px; min-height: 400px;"
        frameborder="0">
      </iframe>
    </div>
  </div>
</div>